(function(){"use strict";var t={3003:function(t,e,n){var r=n(9242),o=n(3396);function a(t,e,n,r,a,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(s.currentView()),{userId:this.userId},null,8,["userId"])}var s=n(7139);const u={class:"userList"},i=["href"],l={class:"userCard"},c={class:"paginator"};function d(t,e,n,r,a,d){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("ul",u,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.users,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id},[(0,o._)("a",{href:`#/user/${t.id}`},[(0,o._)("div",l,(0,s.zw)(t.name),1)],8,i)])))),128))]),(0,o._)("div",c,[(0,o._)("button",{class:"paginatorButton",type:"button",onClick:e[0]||(e[0]=(...t)=>d.goBack&&d.goBack(...t))},"Назад"),(0,o._)("button",{class:"paginatorButton",onClick:e[1]||(e[1]=(...t)=>d.goForward&&d.goForward(...t)),type:"button"},"Вперёд")])])}var h=n(6265),f=n.n(h);const p=f().create({baseURL:"https://test-js.alef.dev/",timeout:1e3});function v(){return p.get("roles").then((t=>t.data.data)).catch((function(t){console.log(t)}))}function w(t,e){return p.get("users?page="+t+"&count="+e).then((t=>t.data.data)).catch((function(t){console.log(t)}))}function g(t){return p.get("user/"+t).then((t=>t.data.data)).catch((function(t){console.log(t)}))}function m(t,e){return p.post("user/"+t+"/role/"+e).then((t=>t.data.data)).catch((function(t){console.log(t)}))}function b(t,e){return p.delete("user/"+t+"/role/"+e).then((t=>t.data.data)).catch((function(t){console.log(t)}))}let y=0,_=5,k=20,O=k/_-1;var I={name:"UserList",props:{msg:String,getRoles:v},data(){return{roles:null,users:null}},async created(){this.roles=await v(),this.users=await w(y,_)},methods:{async goBack(){y>0&&(y--,this.users=await w(y,_))},async goForward(){y<O&&(y++,this.users=await w(y,_))}}},j=n(89);const C=(0,j.Z)(I,[["render",d],["__scopeId","data-v-396ca1b3"]]);var D=C;const L={class:"roleList"},P={class:"role"},U=["value"],B=(0,o._)("body",null,null,-1);function R(t,e,n,a,u,i){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h1",null,(0,s.zw)(this.user.name),1),(0,o._)("div",null,[(0,o._)("ul",L,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.value,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o._)("div",P,(0,s.zw)(i.showRoleName(t)),1)])))),128))])]),(0,o._)("div",null,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),multiple:"",class:"dropdownSelect",onChange:e[1]||(e[1]=t=>i.onChange())},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.options,(t=>((0,o.wg)(),(0,o.iD)("option",{value:t,key:t},(0,s.zw)(i.showRoleName(t)),9,U)))),128))],544),[[r.bM,u.value]])]),B])}n(6699);var x={name:"UserProfile",props:{userId:String},data(){return{user:null,value:null,options:[1,2,3,4]}},methods:{showRoleName(t){switch(t){case 1:return"Admin";case 2:return"Manager";case 3:return"User";case 4:return"Tester";default:return t}},onChange(){let t=this.options.filter((t=>!this.value.includes(t)));this.value.map((t=>{m(this.userId,t)})),t.map((t=>{b(this.userId,t)}))}},async created(){this.user=await g(this.userId),this.value=this.user.roles}};const z=(0,j.Z)(x,[["render",R]]);var F=z;const H={"/":D,"/user/":F};var K={name:"App",components:{UserList:D,UserProfile:F},data(){return{currentPath:window.location.hash,userId:window.location.hash.length>0?window.location.hash.split("/")[2]:""}},methods:{currentView(){let t=this.currentPath.split("/");t.pop(),t.push(this.userId);let e=t.join("/");return H[e]=H["/user/"],H[this.currentPath.slice(-1).length>0?e:"/"]}},mounted(){window.addEventListener("hashchange",(()=>{this.currentPath=window.location.hash}))}};const M=(0,j.Z)(K,[["render",a]]);var N=M;(0,r.ri)(N).mount("#app")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],o=t[c][1],a=t[c][2];for(var u=!0,i=0;i<r.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[i])}))?r.splice(i--,1):(u=!1,a<s&&(s=a));if(u){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,s=r[0],u=r[1],i=r[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(i)var c=i(n)}for(e&&e(r);l<s.length;l++)a=s[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},r=self["webpackChunkalef"]=self["webpackChunkalef"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3003)}));r=n.O(r)})();
//# sourceMappingURL=app.2e3cc8e9.js.map